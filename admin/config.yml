# ===================================================================
# PAINEL DE COMANDO v3.0 - REVISTA DIGITAL CHEFBRICO
# Arquiteto de Conte√∫do para a Chef Maria Concei√ß√£o
# ===================================================================

# --- Conex√£o Segura com o Reposit√≥rio ---
# Utiliza o sistema da Netlify para autentica√ß√£o e acesso ao GitHub.
backend:
  name: git-gateway
  branch: desenvolvimento # O branch de trabalho principal do projeto.

# --- Gest√£o de M√≠dia ---
# Define onde as imagens e ficheiros enviados pelo painel ser√£o guardados.
media_folder: "imagens/uploads"
public_folder: "/imagens/uploads"

# --- Interface e Fluxo de Trabalho ---
# Traduz a interface e habilita um fluxo de revis√£o de conte√∫do.
locale: 'pt'
publish_mode: editorial_workflow

# ===================================================================
# COLE√á√ïES DE CONTE√öDO (O Cora√ß√£o do Painel)
# Mapeamento direto da arquitetura do site.
# ===================================================================
collections:

  # --- Cole√ß√£o Principal: O Card√°pio ---
  CONFIGURA√á√ÉO VALIDADA CONFORME NOVA DIRETRIZ
- name: "receitas"
  label: "üç≥ Receitas"
  folder: "receitas" # <-- CORRETO
  create: true
  slug: "{{slug}}"
  path: "{{folder}}/{{category}}/{{slug}}"
    # Estrat√©gia de caminho: Salva o ficheiro na subpasta correta baseado na categoria!
    path: "{{folder}}/{{category}}/{{slug}}"
    summary: "{{title}} | Categoria: {{category}}"
    fields:
      - { label: "Nome do Prato", name: "title", widget: "string" }
      - { label: "Data de Publica√ß√£o", name: "date", widget: "datetime" }
      - { label: "Categoria do Prato", name: "category", widget: "select", options: ["risotos", "solucoes", "sopas-funcionais", "refeicoes-integrais"] }
      - { label: "Imagem de Destaque", name: "image", widget: "image" }
      - { label: "Resumo (para SEO e pr√©vias)", name: "summary", widget: "text" }
      - { label: "Conte√∫do Principal (Modo de Preparo, etc.)", name: "body", widget: "markdown" }
      # Campos Adicionais para Schema.org (SEO Avan√ßado)
      - label: "Detalhes para SEO (Google Rich Results)"
        name: "recipe_details"
        widget: "object"
        fields:
          - { label: "Serve (N¬∫ de Pessoas)", name: "servings", widget: "number", min: 1, default: 2 }
          - { label: "Tempo de Preparo (Ex: 30M)", name: "prepTime", widget: "string", hint: "Formato: 15M para 15 minutos, 1H para 1 hora, 1H30M para 1h30m." }
          - { label: "Tempo de Cozimento (Ex: 45M)", name: "cookTime", widget: "string" }

  # --- Cole√ß√£o para o Blog (Autoridade E-E-A-T) ---
  - name: "blog"
    label: "‚úçÔ∏è Blog"
    label_singular: "Novo Artigo"
    folder: "blog"
    create: true
    slug: "{{slug}}"
    path: "{{folder}}/{{slug}}/index" # Cria cada post numa subpasta com um index
    summary: "{{title}} | {{date}}"
    fields:
      - { label: "T√≠tulo do Artigo", name: "title", widget: "string" }
      - { label: "Data de Publica√ß√£o", name: "date", widget: "datetime" }
      - { label: "Autor", name: "author", widget: "string", default: "Chef Maria Concei√ß√£o" }
      - { label: "Imagem de Destaque", name: "image", widget: "image" }
      - { label: "Resumo do Artigo", name: "summary", widget: "text" }
      - { label: "Conte√∫do Principal", name: "body", widget: "markdown" }

  # --- Cole√ß√£o para SEO Local ---
  - name: "locais"
    label: "üìç Onde Encontrar (SEO Local)"
    label_singular: "Novo Bairro/Local"
    folder: "onde-encontrar"
    create: true
    slug: "{{slug}}"
    summary: "{{title}}"
    fields:
      - { label: "Nome da Regi√£o/Bairro", name: "title", widget: "string" }
      - { label: "Conte√∫do da P√°gina", name: "body", widget: "markdown", hint: "Descreva os parceiros, pontos de venda ou a rela√ß√£o da ChefBrico com esta localidade." }
